function accuracy = classify(trainData, trainLabels, testData, testLabels, params)

if strcmp( params.classify, 'liblin')
    addpath([params.classLib '/matlab/']);
    model = train(double(trainLabels), sparse(double(trainData)), params.classOptions);
    [predLabels, accuracy, decvaluesNet] = predict(double(testLabels), sparse(double(testData)), model);
    fprintf('Liblinear Test Accuracy: %f\n', mean(predLabels == testLabels) * 100);
    %confmat = confusionmat(testLabels, predLabels);
    %save(['confmat/' params.confname '-' num2str(params.split) '.mat'],'confmat', '-v7.3');
end

